{
  "_preset_metadata": {
    "name": "Team - GitHub Team Project",
    "mode": "team",
    "environment": "github",
    "description": "Automated GitHub Flow with full governance for team projects. All automation enabled including draft PR creation. Branch protection and required reviews enforced.",
    "use_case": "Team projects on GitHub, formal code review process, quality enforcement",
    "version": "1.0.0",
    "created_at": "2025-11-23"
  },

  "git_strategy": {
    "mode": "team",
    "environment": "github",
    "github_integration": true,
    "description": "Full GitHub Flow automation with team governance. Draft PRs, branch protection, required reviews.",

    "branch_creation": {
      "prompt_always": true,
      "auto_enabled": false,
      "description": "Team mode: Default is manual (no auto-branch). prompt_always=false + auto_enabled=true enables full automation with Draft PRs."
    },

    "automation": {
      "auto_branch": true,
      "auto_commit": true,
      "auto_pr": true,
      "auto_push": true,
      "notes": "Branch: ü§ñ auto. Commit: ü§ñ auto. PR: ü§ñ auto (Draft). Push: ü§ñ auto"
    },

    "hooks": {
      "pre_commit": "enforce",
      "pre_push": "enforce",
      "commit_msg": "enforce",
      "notes": "pre_commit: enforce ‚Üí formatting violations block commit. pre_push: enforce ‚Üí security checks block push. commit_msg: enforce ‚Üí requires conventional format"
    },

    "commit_style": {
      "format": "conventional",
      "scope_required": true,
      "scopes": ["core", "api", "ui", "tests", "docs", "infra", "config"],
      "tdd_prefixes": {
        "red": "üî¥ RED",
        "green": "üü¢ GREEN",
        "refactor": "‚ôªÔ∏è REFACTOR",
        "docs": "üìö DOCS"
      },
      "examples": [
        "üî¥ RED(api): Add user authentication endpoint tests",
        "üü¢ GREEN(api): Implement basic JWT authentication",
        "‚ôªÔ∏è REFACTOR(api): Optimize token validation logic"
      ],
      "notes": "Strict conventional commits with scopes. Required for team clarity."
    },

    "branch_strategy": {
      "type": "github-flow",
      "workflow_name": "GitHub Flow (Team)",
      "main_branch": "main",
      "protected_branches": ["main"],
      "feature_branch_pattern": "feature/SPEC-{ID}-{description}",
      "auto_create": true,
      "auto_delete_after_merge": true,
      "branch_protection": {
        "enabled": true,
        "require_reviews": 1,
        "require_status_checks": true,
        "require_branches_up_to_date": true,
        "restrict_who_can_push_to_matching_branches": false
      },
      "notes": "Automatic branch creation. Branch protection on main: require 1 review, status checks, up-to-date check."
    }
  },

  "developer_workflow": {
    "step_1_plan": {
      "command": "/moai:1-plan \"Description\"",
      "action": "Creates SPEC file + branch",
      "auto_branch": true,
      "branch_created": "feature/SPEC-001-description",
      "notes": "SPEC file created. Feature branch automatically created and checked out."
    },
    "step_2_ready": {
      "status": "Ready to code",
      "branch": "feature/SPEC-001-description (auto-created)",
      "notes": "Development environment ready. No manual setup needed."
    },
    "step_3_run": {
      "command": "/moai:2-run SPEC-001",
      "action": "Execute TDD cycle",
      "auto_commit": true,
      "commits": [
        "üî¥ RED(scope): [test description]",
        "üü¢ GREEN(scope): [implementation description]",
        "‚ôªÔ∏è REFACTOR(scope): [optimization description]"
      ],
      "formatting": "enforce",
      "scope_required": true,
      "notes": "Conventional commits with scopes required. Formatting enforced. Commits pushed to feature branch."
    },
    "step_4_sync": {
      "command": "/moai:3-sync SPEC-001",
      "action": "Generate documentation",
      "auto_commit": true,
      "commit": "üìö DOCS: [API/architecture documentation]",
      "pr_creation": "automatic",
      "pr_status": "Draft",
      "notes": "Documentation auto-committed. Draft PR automatically created on GitHub (not merged)."
    },
    "step_5_pr_created": {
      "status": "Draft PR ready for review",
      "pr_format": "Draft Pull Request",
      "pr_description": "Automated from /moai:3-sync",
      "pr_title": "SPEC-001: [Description]",
      "notes": "PR is in Draft status. Ready for team review when needed."
    },
    "step_6_team_review": {
      "required": true,
      "minimum_reviewers": 1,
      "review_checklist": [
        "Code follows team standards",
        "Tests are comprehensive (‚â•85% coverage)",
        "Documentation is complete",
        "No security vulnerabilities",
        "Conventional commits are correct"
      ],
      "notes": "At least 1 team member must review and approve before merge."
    },
    "step_7_merge": {
      "action": "Merge to main (after approval)",
      "method": "Squash or Merge",
      "branch_cleanup": "automatic",
      "notes": "After review approval, merge to main. Feature branch auto-deleted."
    }
  },

  "quality_gates": {
    "test_coverage": {
      "target": 85,
      "enforce": true,
      "block_merge": true,
      "notes": "85% minimum coverage enforced. Failed coverage blocks PR merge."
    },
    "formatting": {
      "ruff": {
        "enabled": true,
        "enforce": true,
        "block_commit": true
      },
      "black": {
        "enabled": true,
        "enforce": true,
        "block_commit": true
      },
      "notes": "Formatting violations block commit at pre_commit hook."
    },
    "conventional_commits": {
      "enabled": true,
      "enforce": true,
      "block_commit": true,
      "scope_required": true,
      "notes": "Commit message format strictly enforced. Violations block commit."
    },
    "security": {
      "enabled": true,
      "level": "strict",
      "block_push": true,
      "security_scanning": true,
      "notes": "Security scanning mandatory. Secrets detection blocks push. No exceptions."
    }
  },

  "github_integration": {
    "auto_branch": true,
    "branch_creation_timing": "at /moai:1-plan",
    "branch_cleanup": "after merge",
    "auto_push": true,
    "push_timing": "after each commit during TDD phases",
    "pr_creation": "automatic (Draft)",
    "pr_type": "draft",
    "pr_auto_merge": false,
    "required_approvals": 1,
    "status_checks_required": true,
    "branch_protection": {
      "main": {
        "require_code_reviews": true,
        "require_status_checks": true,
        "require_branches_up_to_date": true
      }
    },
    "notes": "Full automation with governance. Draft PRs prevent accidental merges. Team review required."
  },

  "team_roles": {
    "developer": {
      "permissions": "Can push to feature branches, create PRs, comment on PRs",
      "restrictions": "Cannot push directly to main"
    },
    "reviewer": {
      "permissions": "Can approve/request changes on PRs",
      "minimum_per_pr": 1
    },
    "release_manager": {
      "permissions": "Can merge approved PRs to main",
      "responsibilities": "Final validation, tag releases"
    }
  },

  "communication": {
    "pr_notifications": true,
    "review_notifications": true,
    "status_check_notifications": true,
    "notes": "GitHub notifications keep team informed of PR status and reviews."
  },

  "workflow_comparison": {
    "vs_manual": "Team adds: auto branch, auto PR (Draft), auto push, branch protection, required reviews",
    "vs_personal": "Team adds: auto PR creation, branch protection, required reviews, strict commit format"
  },

  "notes": {
    "ideal_for": "Team projects on GitHub with multiple developers. Formal code review process required.",
    "workflow_time": "Moderate (includes code review time)",
    "collaboration": "Optimal for team collaboration with governance",
    "automation_level": "Very high (95% automated, review is manual)",
    "code_quality": "Strict enforcement (TRUST 5 + team standards)",
    "best_practices": [
      "1. Assign at least 1 reviewer per PR",
      "2. Use scopes in commit messages for clarity",
      "3. Document complex changes in PR description",
      "4. Keep commits small and focused",
      "5. Test locally before pushing",
      "6. Review approval required before merge",
      "7. Maintain branch protection on main"
    ]
  }
}
