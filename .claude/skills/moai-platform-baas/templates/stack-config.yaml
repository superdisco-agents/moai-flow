# BaaS Stack Configuration Template
# Template for configuring unified BaaS provider stack

project:
  name: "my-project"
  description: "Project description"
  framework: "nextjs"  # nextjs, react, vue, angular, express, flask, etc.
  
# Provider Selection Configuration
providers:
  authentication:
    # Options: auth0, clerk, firebase_auth
    selected: "clerk"
    config:
      # Clerk Configuration
      clerk:
        publishable_key: "${CLERK_PUBLISHABLE_KEY}"
        secret_key: "${CLERK_SECRET_KEY}"
        webhook_secret: "${CLERK_WEBHOOK_SECRET}"
        features:
          - "social_auth"
          - "mfa"
          - "organizations"
          - "webauthn"
      
      # Auth0 Configuration  
      auth0:
        domain: "${AUTH0_DOMAIN}"
        client_id: "${AUTH0_CLIENT_ID}"
        client_secret: "${AUTH0_CLIENT_SECRET}"
        management_token: "${AUTH0_MANAGEMENT_TOKEN}"
        features:
          - "enterprise_sso"
          - "organizations"
          - "b2b_saas"
      
      # Firebase Auth Configuration
      firebase_auth:
        api_key: "${FIREBASE_API_KEY}"
        auth_domain: "${FIREBASE_AUTH_DOMAIN}"
        project_id: "${FIREBASE_PROJECT_ID}"
        features:
          - "google_integration"
          - "mobile_first"
          - "analytics"

  database:
    # Options: supabase, neon, convex, firestore
    selected: "supabase"
    config:
      # Supabase Configuration
      supabase:
        url: "${SUPABASE_URL}"
        anon_key: "${SUPABASE_ANON_KEY}"
        service_key: "${SUPABASE_SERVICE_KEY}"
        features:
          - "postgresql_16"
          - "row_level_security"
          - "realtime_subscriptions"
          - "edge_functions"
      
      # Neon Configuration
      neon:
        connection_string: "${NEON_CONNECTION_STRING}"
        api_key: "${NEON_API_KEY}"
        project_id: "${NEON_PROJECT_ID}"
        features:
          - "serverless"
          - "auto_scaling"
          - "instant_branches"
          - "30_day_pitr"
      
      # Convex Configuration
      convex:
        url: "${CONVEX_URL}"
        websocket_url: "${CONVEX_WEBSOCKET_URL}"
        features:
          - "realtime_backend"
          - "reactive_queries"
          - "optimistic_updates"
          - "database_branching"
      
      # Firestore Configuration
      firestore:
        project_id: "${FIRESTORE_PROJECT_ID}"
        credentials_file: "${FIRESTORE_CREDENTIALS_FILE}"
        features:
          - "mobile_sync"
          - "offline_support"
          - "google_integration"

  deployment:
    # Options: vercel, railway
    selected: "vercel"
    config:
      # Vercel Configuration
      vercel:
        org_id: "${VERCEL_ORG_ID}"
        project_id: "${VERCEL_PROJECT_ID}"
        access_token: "${VERCEL_ACCESS_TOKEN}"
        features:
          - "edge_deployment"
          - "nextjs_optimization"
          - "global_cdn"
          - "analytics"
      
      # Railway Configuration
      railway:
        api_token: "${RAILWAY_API_TOKEN}"
        project_id: "${RAILWAY_PROJECT_ID}"
        features:
          - "containers"
          - "full_stack"
          - "multi_region"
          - "ci_cd"

# Cross-Provider Integration Settings
integration:
  # Environment variables that will be set across all providers
  global_environment:
    NODE_ENV: "production"
    NEXT_PUBLIC_APP_NAME: "${PROJECT_NAME}"
    
  # Provider-specific integrations
  webhooks:
    clerk_to_convex:
      enabled: true
      events: ["user.created", "user.updated", "organization.created"]
    
    auth0_to_supabase:
      enabled: true
      events: ["user.created", "user.updated", "organization.created"]

# Cost Optimization Settings
cost_optimization:
  # Enable cost monitoring and optimization
  monitoring: true
  
  # Provider-specific optimization settings
  database_optimization:
    connection_pooling: true
    read_replicas: false  # Enable for high traffic
    auto_scaling: true
    
  deployment_optimization:
    edge_caching: true
    cdn_optimization: true
    bundle_optimization: true

# Security and Compliance Settings
security:
  # Compliance requirements
  compliance: ["GDPR"]  # Add HIPAA, SOC2, etc. as needed
  
  # Security features
  features:
    encryption_at_rest: true
    encryption_in_transit: true
    audit_logging: true
    session_timeout: "30_minutes"
    
  # Provider-specific security
  auth_security:
    mfa_required: true
    password_policy: "strong"
    session_management: true
    
  database_security:
    row_level_security: true
    backup_encryption: true
    access_controls: true

# Monitoring and Analytics
monitoring:
  # Enable monitoring across providers
  enabled: true
  
  # Metrics to track
  metrics:
    - "user_growth"
    - "database_usage"
    - "deployment_performance"
    - "cost_tracking"
    
  # Analytics providers
  analytics:
    firebase_analytics: true
    vercel_analytics: true
    custom_dashboards: true

# Development and Testing Settings
development:
  # Local development configuration
  local_environment:
    database: "local_postgresql"
    authentication: "local_clerk"
    deployment: "local_vercel"
    
  # Testing configuration
  testing:
    test_database: "test_supabase"
    test_authentication: "test_clerk"
    integration_tests: true
    e2e_tests: true
