{
  "version": "3.0.0",
  "last_updated": "2025-11-19",
  "description": "Simplified tab-based settings schema for /moai:0-project - Essential questions only with smart defaults and project documentation integration",
  "changelog": {
    "3.0.0": {
      "date": "2025-11-19",
      "changes": [
        "Reduced from 5 tabs to 3 tabs (Quick Start + Git Automation + Documentation Choice)",
        "Reduced from 27 to 10 essential questions (63% reduction)",
        "Added Documentation Choice step (Full/Skip/Minimal options)",
        "Added brainstorming depth selection (Quick/Standard/Deep)",
        "Integrated project documentation generation workflow",
        "Added smart defaults for 16 settings",
        "Added auto-detection for 5 fields",
        "Estimated setup time: 2-3 minutes → 35 minutes (based on choice)",
        "Conditional batches for Personal/Team/Hybrid modes",
        "Template variable system for dynamic values ({{user.name}}, etc.)"
      ]
    }
  },
  "api_constraints": {
    "max_questions_per_batch": 4,
    "min_options_per_question": 2,
    "max_options_per_question": 4,
    "auto_other_option": true,
    "no_emojis": true,
    "note": "Fifth option is always 'Other' for custom input"
  },
  "presets": {
    "personal_dev": {
      "name": "Personal Developer",
      "description": "Optimized for solo development",
      "applies": {
        "git_strategy.mode": "personal",
        "git_strategy.personal.workflow": "github-flow",
        "git_strategy.personal.auto_checkpoint": "event-driven",
        "git_strategy.personal.push_to_remote": false,
        "report_generation.user_choice": "Minimal",
        "github.spec_git_workflow": "per_spec"
      }
    },
    "team_collaboration": {
      "name": "Team Collaboration",
      "description": "Git-Flow with PR reviews",
      "applies": {
        "git_strategy.mode": "team",
        "git_strategy.team.workflow": "git-flow",
        "git_strategy.team.auto_pr": false,
        "git_strategy.team.draft_pr": false,
        "report_generation.user_choice": "Full",
        "github.spec_git_workflow": "feature_branch"
      }
    }
  },
  "auto_detection": {
    "project.language": "detect_from_codebase()",
    "project.locale": "map_from_conversation_language()",
    "language.conversation_language_name": "map_language_code_to_name()",
    "project.template_version": "system_managed",
    "moai.version": "system_managed"
  },
  "tabs": [
    {
      "id": "tab_1_quick_start",
      "label": "Tab 1: Quick Start (Essential Setup)",
      "description": "Core settings to start development immediately",
      "setting_count": 10,
      "batch_count": 4,
      "estimated_time": "2-3 minutes",
      "batches": [
        {
          "batch_id": "1.1",
          "label": "Identity & Language",
          "question_count": 3,
          "questions": [
            {
              "question": "What name should Alfred use when addressing you?",
              "header": "User Name",
              "field": "user.name",
              "type": "text_input",
              "multiSelect": false,
              "easy_description": "Your name for personalized interactions with Claude Code",
              "options": [
                {
                  "label": "Keep Current",
                  "description": "Keep existing name"
                },
                {
                  "label": "Enter New Name",
                  "description": "Select Other to provide your name"
                }
              ],
              "current_value": "{{user.name}}",
              "default_value": "User",
              "required": true,
              "smart_default": "User"
            },
            {
              "question": "Select your preferred conversation language",
              "header": "Conversation Language",
              "field": "language.conversation_language",
              "type": "select_single",
              "multiSelect": false,
              "easy_description": "All conversations, documents, and code comments will be in this language",
              "options": [
                {
                  "label": "Korean (ko)",
                  "value": "ko",
                  "description": "한국어로 모든 내용 생성"
                },
                {
                  "label": "English (en)",
                  "value": "en",
                  "description": "All content in English"
                },
                {
                  "label": "Japanese (ja)",
                  "value": "ja",
                  "description": "日本語でコンテンツを生成"
                },
                {
                  "label": "Spanish (es)",
                  "value": "es",
                  "description": "Todo el contenido en español"
                }
              ],
              "current_value": "{{language.conversation_language}}",
              "default_value": "en",
              "required": true,
              "smart_default": "en",
              "note": "Auto-updates: language.conversation_language_name, project.locale"
            },
            {
              "question": "Select agent internal prompt language",
              "header": "Agent Prompt Language",
              "field": "language.agent_prompt_language",
              "type": "select_single",
              "multiSelect": false,
              "easy_description": "English recommended for best AI performance (15-20% faster)",
              "options": [
                {
                  "label": "English (Recommended)",
                  "value": "english",
                  "description": "Best AI performance, 15-20% token savings"
                },
                {
                  "label": "Same as Conversation",
                  "value": "same_as_conversation",
                  "description": "Match conversation language (slightly slower)"
                }
              ],
              "current_value": "{{language.agent_prompt_language}}",
              "default_value": "english",
              "required": true,
              "smart_default": "english"
            }
          ]
        },
        {
          "batch_id": "1.2",
          "label": "Project Basics",
          "question_count": 3,
          "questions": [
            {
              "question": "Enter your Project Name",
              "header": "Project Name",
              "field": "project.name",
              "type": "text_input",
              "multiSelect": false,
              "easy_description": "The official name of your project",
              "options": [
                {
                  "label": "Keep Current",
                  "description": "Keep existing project name"
                },
                {
                  "label": "Enter New Name",
                  "description": "Select Other to provide project name"
                }
              ],
              "current_value": "{{project.name}}",
              "default_value": "my-project",
              "required": true,
              "smart_default": "my-project"
            },
            {
              "question": "Enter Project Owner (Individual or Organization)",
              "header": "Project Owner",
              "field": "project.owner",
              "type": "text_input",
              "multiSelect": false,
              "easy_description": "Who owns or maintains this project",
              "options": [
                {
                  "label": "Same as User",
                  "description": "Use your user name"
                },
                {
                  "label": "Enter Organization",
                  "description": "Select Other to provide owner name"
                }
              ],
              "current_value": "{{project.owner}}",
              "default_value": "{{user.name}}",
              "required": true,
              "smart_default": "{{user.name}}"
            },
            {
              "question": "Brief project description (one sentence)",
              "header": "Project Description",
              "field": "project.description",
              "type": "text_input",
              "multiSelect": false,
              "easy_description": "What does your project do?",
              "options": [
                {
                  "label": "Skip",
                  "description": "Leave empty for now"
                },
                {
                  "label": "Enter Description",
                  "description": "Select Other to provide description"
                }
              ],
              "current_value": "{{project.description}}",
              "default_value": "",
              "required": false,
              "smart_default": ""
            }
          ]
        },
        {
          "batch_id": "1.3",
          "label": "Development Mode",
          "question_count": 2,
          "questions": [
            {
              "question": "Select your Git workflow mode",
              "header": "Git Strategy Mode",
              "field": "git_strategy.mode",
              "type": "select_single",
              "multiSelect": false,
              "easy_description": "Personal for solo work, Team for collaboration, Hybrid auto-switches",
              "options": [
                {
                  "label": "Personal (Solo Dev)",
                  "value": "personal",
                  "description": "Simplified GitHub Flow, fast iteration"
                },
                {
                  "label": "Team (Collaboration)",
                  "value": "team",
                  "description": "Full Git-Flow with PR reviews"
                },
                {
                  "label": "Hybrid (Recommended)",
                  "value": "hybrid",
                  "description": "Auto-switch between Personal and Team"
                }
              ],
              "current_value": "{{git_strategy.mode}}",
              "default_value": "hybrid",
              "required": true,
              "smart_default": "hybrid",
              "note": "This determines conditional batches shown in Tab 2"
            },
            {
              "question": "Select your branching workflow type",
              "header": "Workflow Type",
              "field": "git_strategy.{mode}.workflow",
              "type": "select_single",
              "multiSelect": false,
              "easy_description": "GitHub Flow is simpler, Git-Flow is for teams",
              "options": [
                {
                  "label": "GitHub Flow (Simple)",
                  "value": "github-flow",
                  "description": "Feature branches → main"
                },
                {
                  "label": "Git-Flow (Team)",
                  "value": "git-flow",
                  "description": "Feature → develop → main"
                }
              ],
              "current_value": "{{git_strategy.{mode}.workflow}}",
              "default_value": "github-flow",
              "required": true,
              "smart_default": "github-flow",
              "conditional_mapping": {
                "personal": "git_strategy.personal.workflow",
                "team": "git_strategy.team.workflow",
                "hybrid": "git_strategy.personal.workflow"
              }
            }
          ]
        },
        {
          "batch_id": "1.4",
          "label": "Quality Standards",
          "question_count": 2,
          "questions": [
            {
              "question": "Set minimum test coverage target",
              "header": "Test Coverage",
              "field": "constitution.test_coverage_target",
              "type": "number_input",
              "multiSelect": false,
              "easy_description": "MoAI-ADK enforces this coverage percentage for all code",
              "options": [
                {
                  "label": "90% (Recommended)",
                  "value": 90,
                  "description": "High quality standard"
                },
                {
                  "label": "85%",
                  "value": 85,
                  "description": "Industry standard"
                },
                {
                  "label": "80%",
                  "value": 80,
                  "description": "Minimum acceptable"
                }
              ],
              "current_value": "{{constitution.test_coverage_target}}",
              "default_value": 90,
              "required": true,
              "smart_default": 90
            },
            {
              "question": "Enforce Test-Driven Development (TDD)?",
              "header": "Enforce TDD",
              "field": "constitution.enforce_tdd",
              "type": "select_single",
              "multiSelect": false,
              "easy_description": "Require tests before implementation (Red-Green-Refactor)",
              "options": [
                {
                  "label": "Yes (Recommended)",
                  "value": true,
                  "description": "Strictly enforce TDD workflow"
                },
                {
                  "label": "No",
                  "value": false,
                  "description": "Allow code without prior tests"
                }
              ],
              "current_value": "{{constitution.enforce_tdd}}",
              "default_value": true,
              "required": true,
              "smart_default": true
            }
          ]
        }
      ]
    },
    {
      "id": "tab_2_documentation_choice",
      "label": "Tab 2: Project Documentation",
      "description": "Create or skip comprehensive project documentation",
      "setting_count": 2,
      "batch_count": 2,
      "estimated_time": "30 seconds to 30+ minutes (based on choice)",
      "batches": [
        {
          "batch_id": "2.1",
          "label": "Documentation Generation Choice",
          "question_count": 1,
          "questions": [
            {
              "question": "How would you like to create project documentation?",
              "header": "Documentation Strategy",
              "field": "project.documentation_mode",
              "type": "select_single",
              "multiSelect": false,
              "easy_description": "Choose between comprehensive documentation now or minimal templates to fill later",
              "options": [
                {
                  "label": "Full Documentation - Now (Recommended)",
                  "value": "full_now",
                  "description": "Brainstorming + AI analysis → 3 perfect docs (5-30 min based on depth)"
                },
                {
                  "label": "Quick Start - Skip for Now",
                  "value": "skip_later",
                  "description": "Minimal templates, use /moai:1-plan project-docs later (30 sec)"
                },
                {
                  "label": "Minimal - Auto-generate from Config",
                  "value": "auto_minimal",
                  "description": "Extract basic info from settings only (1 min)"
                }
              ],
              "current_value": "{{project.documentation_mode}}",
              "default_value": "full_now",
              "required": true,
              "smart_default": "full_now"
            }
          ]
        },
        {
          "batch_id": "2.2",
          "label": "Brainstorming Depth Selection",
          "question_count": 1,
          "conditional": true,
          "show_if": "project.documentation_mode == 'full_now'",
          "questions": [
            {
              "question": "Select brainstorming session depth",
              "header": "Documentation Depth",
              "field": "project.documentation_depth",
              "type": "select_single",
              "multiSelect": false,
              "easy_description": "More depth = more comprehensive documentation and AI analysis",
              "options": [
                {
                  "label": "Quick (5-10 questions, ~5 min)",
                  "value": "quick",
                  "description": "Core vision, basic architecture, essential tech"
                },
                {
                  "label": "Standard (10-15 questions, ~15 min)",
                  "value": "standard",
                  "description": "Detailed vision, full architecture, tech trade-offs + AI analysis"
                },
                {
                  "label": "Deep (20-25 questions, ~30 min)",
                  "value": "deep",
                  "description": "Comprehensive strategy, diagrams, market research + best practices"
                }
              ],
              "current_value": "{{project.documentation_depth}}",
              "default_value": "standard",
              "required": true,
              "smart_default": "standard"
            }
          ]
        }
      ]
    },
    {
      "id": "tab_3_git_automation",
      "label": "Tab 3: Git Automation (Conditional)",
      "description": "Configure Git automation based on your selected mode",
      "setting_count": 2,
      "batch_count": 2,
      "estimated_time": "30 seconds",
      "conditional": true,
      "batches": [
        {
          "batch_id": "3.1_personal",
          "label": "Personal Git Settings",
          "question_count": 2,
          "conditional": true,
          "show_if": "git_strategy.mode == 'personal' OR git_strategy.mode == 'hybrid'",
          "questions": [
            {
              "question": "When should Alfred create automatic checkpoints?",
              "header": "Auto Checkpoint",
              "field": "git_strategy.personal.auto_checkpoint",
              "type": "select_single",
              "multiSelect": false,
              "easy_description": "Checkpoints are local safety commits before risky operations",
              "options": [
                {
                  "label": "Event-Driven (Recommended)",
                  "value": "event-driven",
                  "description": "Before delete, refactor, merge, critical changes"
                },
                {
                  "label": "Always",
                  "value": "always",
                  "description": "Before every tool execution (safe but frequent)"
                },
                {
                  "label": "Never",
                  "value": "never",
                  "description": "Manual checkpoints only"
                }
              ],
              "current_value": "{{git_strategy.personal.auto_checkpoint}}",
              "default_value": "event-driven",
              "required": true,
              "smart_default": "event-driven"
            },
            {
              "question": "Automatically push commits to remote?",
              "header": "Push to Remote",
              "field": "git_strategy.personal.push_to_remote",
              "type": "select_single",
              "multiSelect": false,
              "easy_description": "Auto-push keeps remote in sync but reduces local control",
              "options": [
                {
                  "label": "No (Recommended)",
                  "value": false,
                  "description": "Keep changes local until manual push"
                },
                {
                  "label": "Yes",
                  "value": true,
                  "description": "Push after every commit"
                }
              ],
              "current_value": "{{git_strategy.personal.push_to_remote}}",
              "default_value": false,
              "required": true,
              "smart_default": false
            }
          ]
        },
        {
          "batch_id": "3.1_team",
          "label": "Team Git Settings",
          "question_count": 2,
          "conditional": true,
          "show_if": "git_strategy.mode == 'team'",
          "questions": [
            {
              "question": "Automatically create Pull Requests?",
              "header": "Auto PR",
              "field": "git_strategy.team.auto_pr",
              "type": "select_single",
              "multiSelect": false,
              "easy_description": "Auto-create PRs saves time but reduces control",
              "options": [
                {
                  "label": "No (Recommended)",
                  "value": false,
                  "description": "Manual PR creation with full control"
                },
                {
                  "label": "Yes",
                  "value": true,
                  "description": "Auto-create PR after push"
                }
              ],
              "current_value": "{{git_strategy.team.auto_pr}}",
              "default_value": false,
              "required": true,
              "smart_default": false
            },
            {
              "question": "Create PRs as drafts by default?",
              "header": "Draft PR",
              "field": "git_strategy.team.draft_pr",
              "type": "select_single",
              "multiSelect": false,
              "easy_description": "Draft PRs prevent premature reviews",
              "options": [
                {
                  "label": "No (Recommended)",
                  "value": false,
                  "description": "Create ready-for-review PRs"
                },
                {
                  "label": "Yes",
                  "value": true,
                  "description": "Create draft PRs initially"
                }
              ],
              "current_value": "{{git_strategy.team.draft_pr}}",
              "default_value": false,
              "required": true,
              "smart_default": false
            }
          ]
        }
      ]
    }
  ],
  "navigation_flow": {
    "completion_order": [
      "tab_1_quick_start (required)",
      "tab_2_documentation_choice (required, but can skip documentation)",
      "tab_3_git_automation (conditional based on mode)"
    ],
    "validation_sequence": [
      "Tab 1 checkpoint (language consistency)",
      "Tab 2 checkpoint (documentation mode selected)",
      "Final validation (before config save)"
    ]
  },
  "smart_defaults_applied": {
    "total_settings": 31,
    "user_questions": 10,
    "documentation_choice_questions": 1,
    "conditional_questions": 2,
    "auto_detected": 5,
    "smart_defaults": 16,
    "coverage": "100%"
  },
  "implementation_notes": {
    "tab_1_quick_start": "Always shown. 10 questions in 4 batches (2-3 min)",
    "tab_2_documentation_choice": "Always shown. Determines whether to proceed with documentation generation",
    "tab_3_git_automation": "Conditional. Shown based on git_strategy.mode (Personal/Team/Hybrid)",
    "brainstorming_integration": "If full_now selected, delegates to moai-project-documentation-generator Skill",
    "documentation_templates": "If skip_later selected, empty templates created. User can run /moai:1-plan project-docs later",
    "template_variables": "All current_value fields use {{field.path}} syntax for runtime resolution",
    "smart_defaults_file": "Define in project-manager.md or moai-project-config-manager Skill",
    "total_execution_time": "2-3 minutes (skip) to 35 minutes (full deep) depending on choice"
  }
}
