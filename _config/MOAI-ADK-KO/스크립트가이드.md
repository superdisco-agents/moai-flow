# MOAI-ADK 검증 스크립트 가이드

## 개요

MOAI-ADK는 설치 전후 시스템 상태를 검증하고 문제를 진단하기 위한 5개의 검증 스크립트를 제공합니다. 이 스크립트들은 Python 3.8 이상에서 실행되며, 시스템 요구사항 확인, MCP 서버 검증, 버전 관리, 그리고 정리 작업을 자동화합니다.

### 스크립트 목록

1. **check-latest-version.py** - MOAI-ADK 최신 버전 확인
2. **verify-mcp-servers.py** - MCP 서버 설치 및 상태 검증
3. **pre-install-check.py** - 설치 전 시스템 요구사항 검사
4. **uninstall-claude-flow.py** - Claude-Flow 완전 제거
5. **clean-dot-folders.py** - 숨김 폴더 정리 유틸리티

---

## 1. check-latest-version.py

### 목적
MOAI-ADK의 최신 버전을 확인하고 현재 설치된 버전과 비교하여 업데이트 필요 여부를 판단합니다.

### 주요 기능
- PyPI 레지스트리에서 최신 버전 조회
- 로컬 설치 버전 감지
- 버전 비교 및 업데이트 권장사항 제공
- JSON 형식 출력 지원
- 오프라인 모드 지원

### 사용법

#### 기본 사용
```bash
python check-latest-version.py
```

#### JSON 출력 형식
```bash
python check-latest-version.py --json
```

#### 상세 로그 출력
```bash
python check-latest-version.py --verbose
```

#### 오프라인 모드 (캐시된 정보 사용)
```bash
python check-latest-version.py --offline
```

### 명령줄 옵션

| 옵션 | 단축 | 설명 | 기본값 |
|------|------|------|--------|
| `--json` | `-j` | JSON 형식으로 결과 출력 | False |
| `--verbose` | `-v` | 상세한 디버그 정보 출력 | False |
| `--offline` | `-o` | 인터넷 연결 없이 캐시 사용 | False |
| `--cache-dir` | | 버전 정보 캐시 디렉토리 지정 | `~/.moai-adk/cache` |
| `--timeout` | `-t` | API 요청 제한 시간 (초) | 10 |

### 종료 코드

| 코드 | 의미 | 설명 |
|------|------|------|
| 0 | 성공 | 최신 버전이 설치되어 있음 |
| 1 | 업데이트 필요 | 새로운 버전이 존재함 |
| 2 | 경고 | MOAI-ADK가 설치되지 않음 |
| 3 | 오류 | 네트워크 오류 또는 API 접근 실패 |
| 4 | 시스템 오류 | Python 버전 미지원 또는 권한 문제 |

### 예제 출력

#### 일반 출력
```
🔍 MOAI-ADK 버전 확인 중...

현재 버전: 1.2.3
최신 버전: 1.3.0

⚠️  업데이트가 가능합니다!

업데이트 명령:
  pip install --upgrade moai-adk

변경사항:
  - 새로운 Git 통합 기능 추가
  - 성능 향상 (30% 빠른 분석)
  - 버그 수정 및 안정성 개선

자세한 내용: https://github.com/your-org/moai-adk/releases/tag/v1.3.0
```

#### JSON 출력
```json
{
  "status": "update_available",
  "current_version": "1.2.3",
  "latest_version": "1.3.0",
  "update_command": "pip install --upgrade moai-adk",
  "release_url": "https://github.com/your-org/moai-adk/releases/tag/v1.3.0",
  "changelog": [
    "새로운 Git 통합 기능 추가",
    "성능 향상 (30% 빠른 분석)",
    "버그 수정 및 안정성 개선"
  ],
  "exit_code": 1
}
```

---

## 2. verify-mcp-servers.py

### 목적
MCP (Model Context Protocol) 서버의 설치 상태, 설정, 연결성을 종합적으로 검증합니다.

### 주요 기능
- Claude Desktop 설정 파일 검증
- MCP 서버 프로세스 상태 확인
- 서버 연결성 테스트
- 설정 오류 자동 감지
- 권장 수정사항 제공
- 다중 서버 동시 검증

### 사용법

#### 전체 서버 검증
```bash
python verify-mcp-servers.py
```

#### 특정 서버만 검증
```bash
python verify-mcp-servers.py --server claude-flow
python verify-mcp-servers.py --server serena,github
```

#### 자동 수정 모드
```bash
python verify-mcp-servers.py --auto-fix
```

#### 설정 파일 지정
```bash
python verify-mcp-servers.py --config ~/custom/claude_desktop_config.json
```

#### 상세 진단 리포트 생성
```bash
python verify-mcp-servers.py --detailed --output report.json
```

### 명령줄 옵션

| 옵션 | 단축 | 설명 | 기본값 |
|------|------|------|--------|
| `--server` | `-s` | 특정 서버만 검증 (쉼표로 구분) | 모든 서버 |
| `--auto-fix` | `-f` | 발견된 문제 자동 수정 | False |
| `--config` | `-c` | Claude Desktop 설정 파일 경로 | 자동 감지 |
| `--detailed` | `-d` | 상세 진단 정보 포함 | False |
| `--output` | `-o` | 결과를 파일로 저장 | 화면 출력 |
| `--timeout` | `-t` | 서버 응답 대기 시간 (초) | 30 |
| `--skip-network` | | 네트워크 테스트 건너뛰기 | False |

### 종료 코드

| 코드 | 의미 | 설명 |
|------|------|------|
| 0 | 성공 | 모든 MCP 서버가 정상 작동 |
| 1 | 경고 | 일부 서버에 문제 있으나 작동 가능 |
| 2 | 오류 | 치명적인 설정 오류 발견 |
| 3 | 설치 필요 | MCP 서버가 설치되지 않음 |
| 4 | 권한 오류 | 설정 파일 접근 권한 없음 |

### 예제 출력

#### 일반 출력
```
🔍 MCP 서버 검증 시작...

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📦 claude-flow
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  ✅ 설치 확인: /Users/user/.npm/_npx/claude-flow
  ✅ 설정 파일: 정상
  ✅ 프로세스 상태: 실행 중 (PID: 12345)
  ✅ 연결성 테스트: 응답 시간 145ms

  상태: 정상 작동
  버전: 2.0.0-alpha
  실행 시간: 3시간 42분

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📦 serena
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  ✅ 설치 확인: /Users/user/.npm/_npx/serena
  ⚠️  설정 파일: 포트 충돌 감지 (5173 → 5174 권장)
  ✅ 프로세스 상태: 실행 중 (PID: 12346)
  ⚠️  연결성 테스트: 느린 응답 (892ms)

  상태: 작동 중 (성능 저하)
  버전: 1.8.5
  경고: 1개

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📦 github
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  ❌ 설치 확인: 설치되지 않음
  ❌ 설정 파일: 없음
  ❌ 프로세스 상태: 실행 안 됨

  상태: 설치 필요
  권장 명령: claude mcp add github npx @modelcontextprotocol/server-github

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 검증 요약:
  • 총 서버 수: 3
  • 정상: 1 (claude-flow)
  • 경고: 1 (serena)
  • 오류: 1 (github)

🔧 권장사항:
  1. serena 서버 포트를 5174로 변경하십시오
  2. github MCP 서버를 설치하십시오
  3. serena 서버 재시작을 권장합니다 (성능 개선)

자동 수정을 원하시면: python verify-mcp-servers.py --auto-fix
```

---

## 3. pre-install-check.py

### 목적
MOAI-ADK 설치 전 시스템 환경이 모든 요구사항을 충족하는지 검사합니다.

### 주요 기능
- Python 버전 호환성 검증
- 필수 시스템 패키지 확인
- 디스크 공간 확인
- 네트워크 연결 테스트
- Git 설치 및 설정 검증
- Node.js 및 npm 버전 확인
- 운영체제 호환성 검사
- Claude Desktop 설치 확인

### 사용법

#### 전체 검사 실행
```bash
python pre-install-check.py
```

#### 특정 검사만 실행
```bash
python pre-install-check.py --check python,git,disk
```

#### 리포트 파일 생성
```bash
python pre-install-check.py --report install-check.json
```

#### 경고 무시하고 진행
```bash
python pre-install-check.py --ignore-warnings
```

#### 시스템 정보만 출력
```bash
python pre-install-check.py --info-only
```

### 명령줄 옵션

| 옵션 | 단축 | 설명 | 기본값 |
|------|------|------|--------|
| `--check` | `-c` | 실행할 검사 항목 선택 | 전체 검사 |
| `--report` | `-r` | 검사 결과 리포트 파일 경로 | None |
| `--ignore-warnings` | `-i` | 경고를 무시하고 진행 | False |
| `--info-only` | | 시스템 정보만 출력 | False |
| `--min-disk-space` | | 최소 디스크 공간 (MB) | 500 |
| `--skip-network` | | 네트워크 테스트 건너뛰기 | False |
| `--fix` | `-f` | 가능한 문제 자동 수정 | False |

### 검사 항목

| 항목 | 확인 내용 | 필수 여부 |
|------|----------|----------|
| `python` | Python 3.8+ 설치 확인 | 필수 |
| `pip` | pip 패키지 매니저 | 필수 |
| `git` | Git 설치 및 설정 | 필수 |
| `node` | Node.js 16+ | 필수 |
| `npm` | npm 패키지 매니저 | 필수 |
| `disk` | 디스크 여유 공간 (500MB+) | 필수 |
| `network` | 인터넷 연결 | 권장 |
| `claude` | Claude Desktop 설치 | 권장 |
| `os` | 운영체제 호환성 | 필수 |
| `permissions` | 파일 시스템 권한 | 필수 |

### 종료 코드

| 코드 | 의미 | 설명 |
|------|------|------|
| 0 | 성공 | 모든 요구사항 충족, 설치 가능 |
| 1 | 경고 | 일부 권장사항 미충족, 설치 가능 |
| 2 | 오류 | 필수 요구사항 미충족, 설치 불가 |
| 3 | 시스템 오류 | 검사 중 오류 발생 |

### 예제 출력

```
🔍 MOAI-ADK 설치 전 시스템 검사
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 시스템 정보:
  운영체제: macOS 14.2.1 (Darwin)
  아키텍처: arm64
  사용자: rdmtv
  홈 디렉토리: /Users/rdmtv

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🔧 필수 요구사항 검사
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ Python 버전
   현재: 3.11.5
   요구: 3.8+
   상태: 정상

✅ pip 패키지 매니저
   버전: 23.2.1
   상태: 정상

✅ Git 버전 관리
   버전: 2.42.0
   사용자: rdmtv <rdmtv@example.com>
   상태: 정상

✅ Node.js 런타임
   버전: 20.9.0
   요구: 16.0+
   상태: 정상

✅ npm 패키지 매니저
   버전: 10.1.0
   상태: 정상

✅ 디스크 공간
   여유 공간: 45.3 GB
   요구: 500 MB
   상태: 충분

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
🎯 권장사항 검사
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 네트워크 연결
   PyPI: 접근 가능 (87ms)
   GitHub: 접근 가능 (124ms)
   npm: 접근 가능 (93ms)
   상태: 정상

⚠️  Claude Desktop
   상태: 설치되지 않음
   영향: MCP 서버 기능 제한됨
   권장: Claude Desktop 설치 권장
   다운로드: https://claude.ai/download

✅ 파일 시스템 권한
   홈 디렉토리: 읽기/쓰기 가능
   임시 디렉토리: 읽기/쓰기 가능
   상태: 정상

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 검사 요약:
  • 필수 항목: 7/7 통과 ✅
  • 권장 항목: 2/3 통과 ⚠️
  • 전체 상태: 설치 가능

⚠️  경고사항:
  1. Claude Desktop이 설치되지 않았습니다
     → MCP 서버 기능을 사용하려면 설치가 필요합니다

💡 다음 단계:
  1. (선택) Claude Desktop 설치
  2. MOAI-ADK 설치 실행:
     pip install moai-adk

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 4. uninstall-claude-flow.py

### 목적
Claude-Flow 패키지와 관련된 모든 파일, 설정, 캐시를 완전히 제거합니다.

### 주요 기능
- npm/npx 캐시에서 claude-flow 제거
- Claude Desktop 설정에서 MCP 서버 제거
- 사용자 설정 디렉토리 정리
- 백업 생성 (선택적)
- 관련 프로세스 종료
- 완전 제거 확인

### 사용법

#### 일반 제거 (백업 포함)
```bash
python uninstall-claude-flow.py
```

#### 백업 없이 완전 삭제
```bash
python uninstall-claude-flow.py --no-backup
```

#### 강제 제거 (확인 없음)
```bash
python uninstall-claude-flow.py --force
```

#### 드라이런 (실제 삭제 없이 미리보기)
```bash
python uninstall-claude-flow.py --dry-run
```

#### 백업 디렉토리 지정
```bash
python uninstall-claude-flow.py --backup-dir ~/backups/claude-flow
```

### 명령줄 옵션

| 옵션 | 단축 | 설명 | 기본값 |
|------|------|------|--------|
| `--force` | `-f` | 확인 없이 강제 제거 | False |
| `--no-backup` | | 백업 생성하지 않음 | False |
| `--backup-dir` | `-b` | 백업 저장 디렉토리 | `~/.moai-adk/backups` |
| `--dry-run` | `-d` | 실제 삭제 없이 미리보기 | False |
| `--keep-config` | | 설정 파일 유지 | False |
| `--verbose` | `-v` | 상세 로그 출력 | False |

### 제거 대상

#### 파일 및 디렉토리
- `~/.npm/_npx/*/claude-flow/` - npx 캐시
- `~/.claude-flow/` - 사용자 설정 디렉토리
- `/tmp/claude-flow-*` - 임시 파일
- `~/.moai-adk/mcp/claude-flow/` - MOAI-ADK 통합 파일

#### 설정 파일
- Claude Desktop MCP 서버 설정 항목 제거
- package.json dependencies (있는 경우)
- 환경 변수 정리

#### 프로세스
- 실행 중인 claude-flow 프로세스 종료

### 종료 코드

| 코드 | 의미 | 설명 |
|------|------|------|
| 0 | 성공 | 완전히 제거됨 |
| 1 | 부분 성공 | 일부 파일 제거 실패 |
| 2 | 취소 | 사용자가 제거 취소 |
| 3 | 오류 | 제거 중 오류 발생 |
| 4 | 권한 오류 | 파일 접근 권한 없음 |

### 예제 출력

```
🗑️  Claude-Flow 제거 도구
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

⚠️  경고: 다음 항목들이 삭제됩니다:

📁 디렉토리:
  • ~/.npm/_npx/12345/claude-flow
  • ~/.claude-flow
  • ~/.moai-adk/mcp/claude-flow

📄 파일:
  • Claude Desktop MCP 설정 항목
  • 캐시 파일 (약 45MB)

🔄 프로세스:
  • claude-flow (PID: 12345) - 실행 중

💾 백업:
  • 위치: ~/.moai-adk/backups/claude-flow-20231128-143052
  • 크기: 약 48MB

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

계속 진행하시겠습니까? [y/N]: y

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
제거 진행 중...
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[1/5] 백업 생성 중...
  ✅ 설정 파일 백업 완료
  ✅ 캐시 파일 백업 완료
  💾 백업 위치: ~/.moai-adk/backups/claude-flow-20231128-143052

[2/5] 프로세스 종료 중...
  ✅ claude-flow (PID: 12345) 종료됨

[3/5] npx 캐시 정리 중...
  ✅ ~/.npm/_npx/12345/claude-flow 삭제됨 (23MB)

[4/5] 사용자 설정 삭제 중...
  ✅ ~/.claude-flow 삭제됨 (3MB)
  ✅ ~/.moai-adk/mcp/claude-flow 삭제됨 (1MB)

[5/5] Claude Desktop 설정 업데이트 중...
  ✅ MCP 서버 항목 제거됨
  ✅ 설정 파일 정리 완료

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ Claude-Flow가 성공적으로 제거되었습니다!

📊 제거 요약:
  • 삭제된 파일: 47개
  • 확보된 공간: 27MB
  • 백업 크기: 48MB

💡 다음 단계:
  1. Claude Desktop 재시작 (MCP 설정 적용)
  2. 백업이 필요 없다면 삭제하십시오:
     rm -rf ~/.moai-adk/backups/claude-flow-20231128-143052

🔄 재설치가 필요한 경우:
  claude mcp add claude-flow npx claude-flow@alpha mcp start

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 5. clean-dot-folders.py

### 목적
프로젝트 디렉토리에서 불필요한 숨김 폴더(`.` 로 시작하는 폴더)를 안전하게 정리합니다.

### 주요 기능
- 캐시 및 임시 숨김 폴더 검색
- 안전 목록 확인 (`.git`, `.venv` 등 보존)
- 디스크 공간 분석
- 선택적 삭제 지원
- 재귀적 정리
- 정리 리포트 생성

### 사용법

#### 현재 디렉토리 검사
```bash
python clean-dot-folders.py
```

#### 특정 디렉토리 검사
```bash
python clean-dot-folders.py --path ~/projects
```

#### 자동 정리 모드 (확인 없음)
```bash
python clean-dot-folders.py --auto
```

#### 드라이런 모드
```bash
python clean-dot-folders.py --dry-run
```

#### 특정 폴더 패턴만 정리
```bash
python clean-dot-folders.py --pattern ".cache,.temp,.build"
```

#### 재귀적으로 하위 디렉토리까지 검사
```bash
python clean-dot-folders.py --recursive
```

### 명령줄 옵션

| 옵션 | 단축 | 설명 | 기본값 |
|------|------|------|--------|
| `--path` | `-p` | 검사할 디렉토리 경로 | 현재 디렉토리 |
| `--auto` | `-a` | 확인 없이 자동 삭제 | False |
| `--dry-run` | `-d` | 실제 삭제 없이 미리보기 | False |
| `--pattern` | | 삭제할 패턴 (쉼표로 구분) | 기본 패턴 사용 |
| `--recursive` | `-r` | 하위 디렉토리까지 검사 | False |
| `--min-size` | | 최소 크기 (MB) 이상만 표시 | 0 |
| `--exclude` | | 제외할 패턴 추가 | None |
| `--report` | | 리포트 파일 저장 경로 | None |

### 정리 대상 패턴

#### 기본 삭제 대상
- `.cache`, `.next`, `.nuxt` - 빌드 캐시
- `.turbo`, `.webpack` - 번들러 캐시
- `.pytest_cache`, `.tox` - 테스트 캐시
- `.mypy_cache`, `.ruff_cache` - 린터 캐시
- `.DS_Store` - macOS 시스템 파일
- `__pycache__` - Python 바이트코드 캐시

#### 보호되는 폴더
- `.git` - Git 저장소
- `.venv`, `.virtualenv` - Python 가상환경
- `.env` - 환경 변수 파일
- `.config` - 설정 디렉토리
- `.ssh` - SSH 키
- `.gnupg` - GPG 키

### 종료 코드

| 코드 | 의미 | 설명 |
|------|------|------|
| 0 | 성공 | 정리 완료 또는 정리할 항목 없음 |
| 1 | 부분 성공 | 일부 폴더 삭제 실패 |
| 2 | 취소 | 사용자가 정리 취소 |
| 3 | 오류 | 정리 중 오류 발생 |
| 4 | 권한 오류 | 폴더 접근 권한 없음 |

### 예제 출력

```
🧹 숨김 폴더 정리 도구
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📁 검사 디렉토리: /Users/rdmtv/projects/moai-adk
🔍 검사 모드: 재귀적 검사

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
발견된 숨김 폴더:
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🗑️  정리 가능:

  1. .cache/
     크기: 145.3 MB
     위치: /Users/rdmtv/projects/moai-adk/.cache
     마지막 수정: 3일 전

  2. .pytest_cache/
     크기: 23.7 MB
     위치: /Users/rdmtv/projects/moai-adk/.pytest_cache
     마지막 수정: 1주 전

  3. __pycache__/ (18개)
     총 크기: 67.2 MB
     위치: 여러 하위 디렉토리
     마지막 수정: 2일 전

  4. .mypy_cache/
     크기: 34.8 MB
     위치: /Users/rdmtv/projects/moai-adk/.mypy_cache
     마지막 수정: 5일 전

  5. .DS_Store (24개 파일)
     총 크기: 0.3 MB
     위치: 여러 디렉토리

✅ 보호됨:

  • .git/ (154.2 MB) - Git 저장소
  • .venv/ (892.5 MB) - Python 가상환경
  • .config/ (2.3 MB) - 설정 디렉토리

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📊 요약:
  • 정리 가능 항목: 5종류
  • 확보 가능 공간: 271.3 MB
  • 보호된 항목: 3개 (1049 MB)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

정리를 진행하시겠습니까?
  [1] 모두 삭제
  [2] 선택적 삭제
  [3] 취소

선택 [1-3]: 1

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
정리 진행 중...
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

[1/5] .cache/ 삭제 중...
  ✅ 145.3 MB 확보됨

[2/5] .pytest_cache/ 삭제 중...
  ✅ 23.7 MB 확보됨

[3/5] __pycache__/ 삭제 중...
  ✅ 18개 디렉토리 삭제됨 (67.2 MB)

[4/5] .mypy_cache/ 삭제 중...
  ✅ 34.8 MB 확보됨

[5/5] .DS_Store 삭제 중...
  ✅ 24개 파일 삭제됨 (0.3 MB)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

✅ 정리 완료!

📊 정리 결과:
  • 삭제된 항목: 47개
  • 확보된 공간: 271.3 MB
  • 소요 시간: 3.2초

💡 팁:
  • 빌드 캐시는 다음 빌드 시 자동으로 재생성됩니다
  • 정기적인 정리를 권장합니다 (월 1회)

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

---

## 권장 작업 흐름

### 1. 설치 전 검증 워크플로우

```bash
# 1단계: 시스템 요구사항 확인
python pre-install-check.py

# 2단계: 최신 버전 확인
python check-latest-version.py

# 3단계: MOAI-ADK 설치
pip install moai-adk

# 4단계: MCP 서버 검증
python verify-mcp-servers.py

# 5단계: 정리 (선택사항)
python clean-dot-folders.py
```

### 2. 정기 점검 워크플로우

```bash
# 매주 실행 권장
python check-latest-version.py
python verify-mcp-servers.py --detailed

# 매월 실행 권장
python clean-dot-folders.py --recursive
```

### 3. 문제 해결 워크플로우

```bash
# 1단계: MCP 서버 상태 확인
python verify-mcp-servers.py --detailed

# 2단계: 자동 수정 시도
python verify-mcp-servers.py --auto-fix

# 3단계: Claude-Flow 재설치 필요 시
python uninstall-claude-flow.py
claude mcp add claude-flow npx claude-flow@alpha mcp start

# 4단계: 검증
python verify-mcp-servers.py
```

### 4. 완전 제거 워크플로우

```bash
# 1단계: 백업 포함 제거
python uninstall-claude-flow.py

# 2단계: 캐시 정리
python clean-dot-folders.py --pattern ".claude-flow,.moai-adk"

# 3단계: 패키지 제거
pip uninstall moai-adk -y

# 4단계: 확인
python verify-mcp-servers.py
```

---

## 문제 해결 팁

### 일반적인 문제

#### 1. Python 버전 오류
```bash
# 증상: "Python 3.8+ required" 오류
# 해결:
python --version  # 버전 확인
brew install python@3.11  # macOS에서 최신 Python 설치
```

#### 2. 권한 오류
```bash
# 증상: "Permission denied" 오류
# 해결:
sudo python verify-mcp-servers.py  # 관리자 권한으로 실행
chmod +x *.py  # 실행 권한 부여
```

#### 3. MCP 서버 연결 실패
```bash
# 증상: "Connection timeout" 오류
# 해결:
python verify-mcp-servers.py --timeout 60  # 타임아웃 증가
python verify-mcp-servers.py --auto-fix  # 자동 수정 시도
```

#### 4. 네트워크 오류
```bash
# 증상: PyPI 또는 GitHub 접근 실패
# 해결:
python check-latest-version.py --offline  # 오프라인 모드
python pre-install-check.py --skip-network  # 네트워크 테스트 건너뛰기
```

#### 5. 디스크 공간 부족
```bash
# 증상: "Not enough disk space" 오류
# 해결:
python clean-dot-folders.py --recursive  # 캐시 정리
python clean-dot-folders.py --min-size 100  # 큰 폴더만 표시
```

### 로그 및 디버깅

#### 상세 로그 활성화
```bash
python verify-mcp-servers.py --verbose > mcp-debug.log 2>&1
python pre-install-check.py --verbose > install-debug.log 2>&1
```

#### 리포트 파일 생성
```bash
python verify-mcp-servers.py --detailed --output mcp-report.json
python pre-install-check.py --report system-check.json
```

---

## 스크립트 버전 및 호환성

| 스크립트 | 최소 Python | 권장 Python | 의존성 |
|---------|------------|------------|--------|
| check-latest-version.py | 3.8 | 3.11+ | requests |
| verify-mcp-servers.py | 3.8 | 3.11+ | json, subprocess |
| pre-install-check.py | 3.8 | 3.11+ | platform, shutil |
| uninstall-claude-flow.py | 3.8 | 3.11+ | os, shutil |
| clean-dot-folders.py | 3.8 | 3.11+ | pathlib |

---

## 추가 리소스

### 공식 문서
- [MOAI-ADK 설치 가이드](/docs/INSTALLATION.md)
- [MCP 서버 설정 가이드](/docs/MCP_SETUP.md)
- [문제 해결 가이드](/docs/TROUBLESHOOTING.md)

### 지원 채널
- GitHub Issues: https://github.com/your-org/moai-adk/issues
- 문서: https://moai-adk.readthedocs.io
- Discord 커뮤니티: https://discord.gg/moai-adk

### 기여하기
스크립트 개선이나 버그 수정에 기여하고 싶으시면:
1. GitHub에서 이슈 생성
2. Pull Request 제출
3. 코드 리뷰 참여

---

**작성일**: 2025-11-28
**버전**: 1.0.0
**라이선스**: MIT
